<div class="heading">
    <mat-icon>perm_phone_msg</mat-icon>
    <h4>Vendor Address</h4>
</div>

<form [formGroup]="vendorAddressForm">
    <div class="row field">
        <div class="col-6 form-group">
            <mat-form-field class="full-width">
                <input type="text" matInput placeholder="Address Line 1" formControlName="address1" autocomplete="off" 
                maxlength="35"
                    required>
            </mat-form-field>
            <mat-error class="errortxt" *ngIf="( isSubmitted ) && f?.address1?.errors?.required">Address Line 1 is required</mat-error>
        </div>
        <div class="col-6 form-group">
            <mat-form-field class="full-width">
                <input type="text" matInput placeholder="Address Line 2" formControlName="address2" autocomplete="off"  maxlength="35">
            </mat-form-field>
        </div>
    </div>

    <div class="row field">
        <div class="col-6 form-group">
            <mat-form-field class="full-width">
                <input type="text" matInput placeholder="Street" formControlName="street" autocomplete="off" required  maxlength="35">
            </mat-form-field>
            <mat-error class="errortxt" *ngIf="( isSubmitted ) && f?.street?.errors?.required">Street is required</mat-error>
        </div>
        <div class="col-4 form-group">
            <mat-form-field class="full-width">
                <input type="text" placeholder="Town / City " matInput formControlName="city" autocomplete="off"
                    required>
            </mat-form-field>
            <mat-error class="errortxt" *ngIf="( isSubmitted ) && f?.city?.errors?.required">Town / City is required</mat-error>
        </div>
        <div class="col-2 form-group">
            <mat-form-field class="full-width">
                <input type="text" placeholder="Pincode " required  onkeypress='return event.charCode >= 48 && event.charCode <= 57' matInput formControlName="pincode" autocomplete="off"  maxlength="10" required>
            </mat-form-field>
            <mat-error class="errortxt" *ngIf="( isSubmitted ) && f?.pincode?.errors?.required">Pincode is required</mat-error>
            <mat-error class="errortxt" *ngIf="( isSubmitted ) && f?.pincode?.errors?.minlength">Minimum {{ f?.pincode?.errors?.minlength?.requiredLength }} characters are required</mat-error>
            <mat-error class="errortxt" *ngIf="( isSubmitted ) && f?.pincode?.errors?.maxlength">Maximum {{ f?.pincode?.errors?.maxlength?.requiredLength }} characters are required</mat-error>
        </div>
    </div>
    
    <div class="row field">

        <div class="col-6 form-group">
            <mat-form-field class="full-width">
                <mat-select formControlName="countryCode" placeholder="Country" required (selectionChange)="onCountryChange()">
                    <mat-option *ngFor="let c of countryList" [value]="c.countryCode">
                        {{ c.countryName }}
                    </mat-option>
                </mat-select>
            </mat-form-field>
            <mat-error class="errortxt" *ngIf="( isSubmitted ) && f?.countryCode?.errors?.required">Country is required</mat-error>
        </div>

        <div class="col-6 form-group">
            <mat-form-field class="full-width">
                <mat-select formControlName="stateCode" placeholder="State" required>
                    <mat-option *ngFor="let region of regionMasterVOList" [value]="region.regionCode">
                        {{ region.regionDesc }}
                    </mat-option>
                </mat-select>
            </mat-form-field>
            <mat-error class="errortxt" *ngIf="( isSubmitted ) && f?.stateCode?.errors?.required">State is required</mat-error>
        </div>
    </div>
</form>

<div class="row actions margin-unset">
    <div class="errortxt" *ngIf="vendorAddressForm.invalid">
        {{ failureMsg }}
    </div>
    <button mat-raised-button class="footer-actions" (click)="onPrevClick()">Previous</button>
    <button mat-raised-button class="footer-actions" (click)="onNextClick()">Next</button>
</div>