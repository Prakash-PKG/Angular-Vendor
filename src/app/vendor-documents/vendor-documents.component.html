<div class="heading">
    <mat-icon>attachment</mat-icon>
    <h4>Vendor Documents</h4>
</div>

<form [formGroup]="vendorDocumentForm">
    <!------------------------------------- Incorporation Certificate ---------------------- -->
    <div class="row doc-field" *ngIf="!showUSField()">
        <div class="col-5 doc-form-field">
            <mat-label>{{vendorDocCtrl.incCerCtrl.placeholder}}:
            </mat-label>
        </div>
        <div class="col-7 actions">
            <input style="display: none" [attr.id]="vendorDocCtrl.incCerCtrl.browserId" type="file" multiple
                accept=".xls,.xlsx,.doc,.docx,.pdf,.png,.jpg,.zip"
                (change)="onFileChange($event, vendorDocCtrl.incCerCtrl.documentTypeId)" />
            <button mat-raised-button class="footer-actions"
                (click)="onBrowseFileClick($event, vendorDocCtrl.incCerCtrl.browserId)">Attach</button>
            <div *ngIf="filesMap[vendorDocCtrl.incCerCtrl.documentTypeId]?.isAttached"
                style="display: flex;    flex-wrap: wrap;">
                <span class="filename"
                    *ngFor="let f of filesMap[vendorDocCtrl.incCerCtrl.documentTypeId]?.filesList; let fInd = index">
                    <span>
                        <mat-icon matTooltip="{{ f.actualFileName }}" (click)="downloadFile(f)">description</mat-icon>

                        <button mat-button mat-icon-button aria-label="Delete" *ngIf="!disableSubmit"
                            (click)="onDeleteFileClick(f, fInd, vendorDocCtrl.incCerCtrl.documentTypeId)">
                            <mat-icon>delete_outline</mat-icon>
                        </button>
                    </span>
                </span>
            </div>
            <!--<div *ngIf="filesMap[vendorDocCtrl.incCerCtrl.documentTypeId] && 
            filesMap[vendorDocCtrl.incCerCtrl.documentTypeId]?.isError" class="errortxt">
                Please attach the Document(s)
            </div>-->
        </div>

    </div>
    <!------------------------------------- GST No---------------------- -->
    <div class="row doc-field" *ngIf="!showUSField()">
        <div class="col-5 doc-form-field form-group">
            <mat-form-field class="full-width">
                <input type="text" matInput (keypress)="omit_special_char($event)"
                    placeholder="{{vendorDocCtrl.gstCtrl.placeholder}}" formControlName="gstNum" minlength="15"
                    maxlength="15" autocomplete="off"
                    (blur)="updateMandatory('gstNum',vendorDocCtrl.gstCtrl.documentTypeId); toUppercase('gstNum')">
                <mat-error class="errortxt" *ngIf="( isSubmitted ) && vdf?.gstNum?.errors?.minlength">Minimum 15
                    characters are required
                </mat-error>
                <mat-error class="errortxt" *ngIf="( isSubmitted ) && vdf?.gstNum?.errors?.pattern">GST No. accepts
                    combination of alphanumeric</mat-error>
            </mat-form-field>

        </div>

        <div class="col-7 actions">
            <input style="display: none" [attr.id]="vendorDocCtrl.gstCtrl.browserId" type="file" multiple
                accept=".xls,.xlsx,.doc,.docx,.pdf,.png,.jpg,.zip"
                (change)="onFileChange($event, vendorDocCtrl.gstCtrl.documentTypeId)" />
            <button mat-raised-button class="footer-actions"
                (click)="onBrowseFileClick($event, vendorDocCtrl.gstCtrl.browserId)"
                [disabled]="!vendorDocumentForm.get('gstNum').value">Attach</button>

            <div *ngIf="filesMap[vendorDocCtrl.gstCtrl.documentTypeId]?.isAttached" style="display: flex;
    flex-wrap: wrap;">
                <span class="filename"
                    *ngFor="let f of filesMap[vendorDocCtrl.gstCtrl.documentTypeId]?.filesList; let fInd = index">
                    <span>
                        <mat-icon matTooltip="{{ f.actualFileName }}" (click)="downloadFile(f)">description</mat-icon>
                        <button mat-button mat-icon-button aria-label="Delete" *ngIf="!disableSubmit"
                            (click)="onDeleteFileClick(f, fInd, vendorDocCtrl.gstCtrl.documentTypeId)">
                            <mat-icon>delete_outline</mat-icon>
                        </button>

                    </span>
                </span>

            </div>
            <div *ngIf="filesMap[vendorDocCtrl.gstCtrl.documentTypeId] && 
            filesMap[vendorDocCtrl.gstCtrl.documentTypeId]?.isError" class="errortxt">
                Please attach the Document(s)
            </div>
            <div *ngIf="filesMap[vendorDocCtrl.gstCtrl.documentTypeId]?.isAttachWithoutValue" class="errortxt">
                GST no. is missing for this attached document
            </div>
        </div>

    </div>
    <!------------------------------------- Pan No---------------------- -->
    <div class="row doc-field" *ngIf="!showUSField()">
        <div class="col-5 doc-form-field form-group">
            <mat-form-field class="full-width">
                <input type="text" matInput (keypress)="omit_special_char($event)"
                    placeholder="{{vendorDocCtrl.panCtrl.placeholder}}" formControlName="panNum" minlength="10"
                    maxlength="10" autocomplete="off" required
                    (blur)="updateFileWithoutValue(vendorDocCtrl.panCtrl.documentTypeId); toUppercase('panNum')">
                <mat-error class="errortxt" *ngIf="( isSubmitted ) && vdf?.panNum?.errors?.required">PAN No. is required
                </mat-error>
                <mat-error class="errortxt" *ngIf="( isSubmitted ) && vdf?.panNum?.errors?.minlength">Minimum 10
                    characters are required
                </mat-error>
                <mat-error class="errortxt" *ngIf="( isSubmitted ) && vdf?.panNum?.errors?.pattern">PAN No. accepts
                    combination of alphanumeric</mat-error>
            </mat-form-field>

        </div>
        <div class="col-7 actions">
            <input style="display: none" [attr.id]="vendorDocCtrl.panCtrl.browserId" type="file" multiple
                accept=".xls,.xlsx,.doc,.docx,.pdf,.png,.jpg,.zip"
                (change)="onFileChange($event, vendorDocCtrl.panCtrl.documentTypeId)" />
            <button mat-raised-button class="footer-actions"
                (click)="onBrowseFileClick($event, vendorDocCtrl.panCtrl.browserId)">Attach</button>
            <div *ngIf="filesMap[vendorDocCtrl.panCtrl.documentTypeId]?.isAttached" style="display: flex;
    flex-wrap: wrap;">
                <span class="filename"
                    *ngFor="let f of filesMap[vendorDocCtrl.panCtrl.documentTypeId]?.filesList; let fInd = index">
                    <span>
                        <mat-icon matTooltip="{{ f.actualFileName }}" (click)="downloadFile(f)">description</mat-icon>
                        <button mat-button mat-icon-button aria-label="Delete" *ngIf="!disableSubmit"
                            (click)="onDeleteFileClick(f, fInd, vendorDocCtrl.panCtrl.documentTypeId)">
                            <mat-icon>delete_outline</mat-icon>
                        </button>
                    </span>
                </span>

            </div>
            <div *ngIf="filesMap[vendorDocCtrl.panCtrl.documentTypeId] && 
            filesMap[vendorDocCtrl.panCtrl.documentTypeId]?.isError" class="errortxt">
                Please attach the Document(s)
            </div>
            <div *ngIf="filesMap[vendorDocCtrl.panCtrl.documentTypeId]?.isAttachWithoutValue" class="errortxt">
                PAN no. is missing for this attached document
            </div>
        </div>

    </div>
    <!------------------------------------- Cancelled Chequed---------------------- -->
    <div class="row doc-field" *ngIf="!showUSField()">
        <div class="col-5 doc-form-field">
            <mat-label> {{vendorDocCtrl.canChqCtrl.placeholder}} * :</mat-label>
        </div>
        <div class="col-7 actions">
            <input style="display: none" [attr.id]="vendorDocCtrl.canChqCtrl.browserId" type="file" multiple
                accept=".xls,.xlsx,.doc,.docx,.pdf,.png,.jpg,.zip"
                (change)="onFileChange($event, vendorDocCtrl.canChqCtrl.documentTypeId)" />
            <button mat-raised-button class="footer-actions"
                (click)="onBrowseFileClick($event, vendorDocCtrl.canChqCtrl.browserId)">Attach</button>
            <div *ngIf="filesMap[vendorDocCtrl.canChqCtrl.documentTypeId]?.isAttached" style="display: flex;
    flex-wrap: wrap;">
                <span class="filename"
                    *ngFor="let f of filesMap[vendorDocCtrl.canChqCtrl.documentTypeId]?.filesList; let fInd = index">
                    <span>
                        <mat-icon matTooltip="{{ f.actualFileName }}" (click)="downloadFile(f)">description</mat-icon>
                        <button mat-button mat-icon-button aria-label="Delete" *ngIf="!disableSubmit"
                            (click)="onDeleteFileClick(f, fInd, vendorDocCtrl.canChqCtrl.documentTypeId)">
                            <mat-icon>delete_outline</mat-icon>
                        </button>
                    </span>
                </span>

            </div>
            <div *ngIf="filesMap[vendorDocCtrl.canChqCtrl.documentTypeId] && 
            filesMap[vendorDocCtrl.canChqCtrl.documentTypeId]?.isError" class="errortxt">
                Please attach the Document
            </div>
        </div>

    </div>
    <!------------------------------------- LUT No---------------------- -->
    <div class="row doc-field" *ngIf="!showUSField()">
        <div class="col-5 doc-form-field">
            <mat-form-field>
                <input type="text" matInput placeholder="{{vendorDocCtrl.lutNoCtrl.placeholder}}"
                    formControlName="lutNum" autocomplete="off"
                    (blur)="updateMandatory('lutNum',vendorDocCtrl.lutNoCtrl.documentTypeId)">
            </mat-form-field>
            <mat-form-field style="width:9em;">
                <mat-label>LUT Date</mat-label>
                <input matInput [matDatepicker]="picker" formControlName="lutDate" autocomplete="off"
                    [max]="maxLutDate">
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>
            <div *ngIf="vdf?.lutDate?.errors?.required" class="errortxt">
                LUT Date is required
            </div>
        </div>
        <div class="col-7 actions">
            <input style="display: none" [attr.id]="vendorDocCtrl.lutNoCtrl.browserId" type="file" multiple
                accept=".xls,.xlsx,.doc,.docx,.pdf,.png,.jpg,.zip"
                (change)="onFileChange($event, vendorDocCtrl.lutNoCtrl.documentTypeId)" />
            <button mat-raised-button class="footer-actions" [disabled]="!vendorDocumentForm.get('lutNum').value"
                (click)="onBrowseFileClick($event, vendorDocCtrl.lutNoCtrl.browserId)">Attach</button>
            <div *ngIf="filesMap[vendorDocCtrl.lutNoCtrl.documentTypeId]?.isAttached" style="display: flex;
    flex-wrap: wrap;">
                <span class="filename"
                    *ngFor="let f of filesMap[vendorDocCtrl.lutNoCtrl.documentTypeId]?.filesList; let fInd = index">
                    <span>
                        <mat-icon matTooltip="{{ f.actualFileName }}" (click)="downloadFile(f)">description</mat-icon>
                        <button mat-button mat-icon-button aria-label="Delete" *ngIf="!disableSubmit"
                            (click)="onDeleteFileClick(f, fInd, vendorDocCtrl.lutNoCtrl.documentTypeId)">
                            <mat-icon>delete_outline</mat-icon>
                        </button>

                    </span>
                </span>

            </div>
            <div *ngIf="filesMap[vendorDocCtrl.lutNoCtrl.documentTypeId] && 
            filesMap[vendorDocCtrl.lutNoCtrl.documentTypeId]?.isError" class="errortxt">
                Please attach the Document(s)
            </div>
            <div *ngIf="filesMap[vendorDocCtrl.lutNoCtrl.documentTypeId]?.isAttachWithoutValue" class="errortxt">
                LUT no. is missing for this attached document
            </div>
        </div>

    </div>
    <!------------------------------------- PF No---------------------- -->
    <div class="row doc-field" *ngIf="!showUSField()">
        <div class="col-5 doc-form-field">
            <mat-form-field class="full-width">
                <input type="text" matInput (keypress)="omit_special_char($event)"
                    placeholder="{{vendorDocCtrl.pfCtrl.placeholder}}" formControlName="pfNum" autocomplete="off"
                    maxlength="30" (blur)="updateMandatory('pfNum',vendorDocCtrl.pfCtrl.documentTypeId)">
            </mat-form-field>

        </div>
        <div class="col-7 actions">
            <input style="display: none" [attr.id]="vendorDocCtrl.pfCtrl.browserId" type="file" multiple
                accept=".xls,.xlsx,.doc,.docx,.pdf,.png,.jpg,.zip"
                (change)="onFileChange($event, vendorDocCtrl.pfCtrl.documentTypeId)" />
            <button mat-raised-button class="footer-actions" [disabled]="!vendorDocumentForm.get('pfNum').value"
                (click)="onBrowseFileClick($event, vendorDocCtrl.pfCtrl.browserId)">Attach</button>
            <div *ngIf="filesMap[vendorDocCtrl.pfCtrl.documentTypeId]?.isAttached" style="display: flex;
    flex-wrap: wrap;">
                <span class="filename"
                    *ngFor="let f of filesMap[vendorDocCtrl.pfCtrl.documentTypeId]?.filesList; let fInd = index">
                    <span>
                        <mat-icon matTooltip="{{ f.actualFileName }}" (click)="downloadFile(f)">description</mat-icon>
                        <button mat-button mat-icon-button aria-label="Delete" *ngIf="!disableSubmit"
                            (click)="onDeleteFileClick(f, fInd, vendorDocCtrl.pfCtrl.documentTypeId)">
                            <mat-icon>delete_outline</mat-icon>
                        </button>
                    </span>
                </span>

            </div>
            <div *ngIf="filesMap[vendorDocCtrl.pfCtrl.documentTypeId] && 
            filesMap[vendorDocCtrl.pfCtrl.documentTypeId]?.isError" class="errortxt">
                Please attach the Document(s)
            </div>
            <div *ngIf="filesMap[vendorDocCtrl.pfCtrl.documentTypeId]?.isAttachWithoutValue" class="errortxt">
                PF Details is missing for this attached document
            </div>
        </div>

    </div>
    <!------------------------------------- ESI  No---------------------- -->
    <div class="row doc-field" *ngIf="!showUSField()">
        <div class="col-5 doc-form-field">
            <mat-form-field class="full-width">
                <input type="text" matInput placeholder="{{vendorDocCtrl.esiCtrl.placeholder}}" formControlName="esiNum"
                    autocomplete="off" maxlength="30"
                    (blur)="updateMandatory('esiNum',vendorDocCtrl.esiCtrl.documentTypeId)">
            </mat-form-field>
        </div>
        <div class="col-7 actions">
            <input style="display: none" [attr.id]="vendorDocCtrl.esiCtrl.browserId" type="file" multiple
                accept=".xls,.xlsx,.doc,.docx,.pdf,.png,.jpg,.zip"
                (change)="onFileChange($event, vendorDocCtrl.esiCtrl.documentTypeId)" />
            <button mat-raised-button class="footer-actions" [disabled]="!vendorDocumentForm.get('esiNum').value"
                (click)="onBrowseFileClick($event, vendorDocCtrl.esiCtrl.browserId)">Attach</button>
            <div *ngIf="filesMap[vendorDocCtrl.esiCtrl.documentTypeId]?.isAttached" style="display: flex;
                    flex-wrap: wrap;">
                <span class="filename"
                    *ngFor="let f of filesMap[vendorDocCtrl.esiCtrl.documentTypeId]?.filesList; let fInd = index">
                    <span>
                        <mat-icon matTooltip="{{ f.actualFileName }}" (click)="downloadFile(f)">description</mat-icon>
                        <button mat-button mat-icon-button aria-label="Delete" *ngIf="!disableSubmit"
                            (click)="onDeleteFileClick(f, fInd, vendorDocCtrl.esiCtrl.documentTypeId)">
                            <mat-icon>delete_outline</mat-icon>
                        </button>
                    </span>
                </span>
            </div>
            <div *ngIf="filesMap[vendorDocCtrl.esiCtrl.documentTypeId] && 
            filesMap[vendorDocCtrl.esiCtrl.documentTypeId]?.isError" class="errortxt">
                Please attach the Document(s)
            </div>
            <div *ngIf="filesMap[vendorDocCtrl.esiCtrl.documentTypeId]?.isAttachWithoutValue" class="errortxt">
                ESI no. is missing for this attached document
            </div>
        </div>

    </div>
    <!------------------------------------- MSME  Registered?---------------------- -->
    <div class="row doc-field" *ngIf="!showUSField()">
        <div class="col-3 doc-form-field">
            <mat-label>{{vendorDocCtrl.msmeCtrl.placeholder}}</mat-label>
        </div>
        <div class="col-2 doc-form-field">
            <mat-radio-group formControlName="isMsmedRegistered"
                (change)="updateMandatory('isMsmedRegistered',vendorDocCtrl.msmeCtrl.documentTypeId)">
                <mat-radio-button [value]=true>YES</mat-radio-button>
                <mat-radio-button [value]=false>NO</mat-radio-button>
            </mat-radio-group>
        </div>
        <div class="col-7 actions">
            <input style="display: none" [attr.id]="vendorDocCtrl.msmeCtrl.browserId" type="file" multiple
                accept=".xls,.xlsx,.doc,.docx,.pdf,.png,.jpg,.zip"
                (change)="onFileChange($event, vendorDocCtrl.msmeCtrl.documentTypeId)" />
            <button mat-raised-button class="footer-actions"
                [disabled]="!vendorDocumentForm.get('isMsmedRegistered').value"
                (click)="onBrowseFileClick($event, vendorDocCtrl.msmeCtrl.browserId)">Attach</button>
            <div *ngIf="filesMap[vendorDocCtrl.msmeCtrl.documentTypeId]?.isAttached" style="display: flex;
    flex-wrap: wrap;">
                <span class="filename"
                    *ngFor="let f of filesMap[vendorDocCtrl.msmeCtrl.documentTypeId]?.filesList; let fInd = index">
                    <span>
                        <mat-icon matTooltip="{{ f.actualFileName }}" (click)="downloadFile(f)">description</mat-icon>
                        <button mat-button mat-icon-button aria-label="Delete" *ngIf="!disableSubmit"
                            (click)="onDeleteFileClick(f, fInd, vendorDocCtrl.msmeCtrl.documentTypeId)">
                            <mat-icon>delete_outline</mat-icon>
                        </button>
                    </span>
                </span>
            </div>
            <div *ngIf="filesMap[vendorDocCtrl.msmeCtrl.documentTypeId] && 
            filesMap[vendorDocCtrl.msmeCtrl.documentTypeId]?.isError" class="errortxt">
                Please attach the Document(s)
            </div>
            <div *ngIf="filesMap[vendorDocCtrl.msmeCtrl.documentTypeId]?.isAttachWithoutValue" class="errortxt">
                MSME is not selected for this attached document
            </div>
        </div>

    </div>
    <!------------------------------------- Has TDS---------------------- -->
    <div class="row doc-field" *ngIf="!showUSField()">
        <div class="col-3 doc-form-field">
            <mat-label>{{vendorDocCtrl.tdsCtrl.placeholder}}</mat-label>
        </div>
        <div class="col-2 doc-form-field">
            <mat-radio-group formControlName="hasTdsLower"
                (change)="updateMandatory('hasTdsLower',vendorDocCtrl.tdsCtrl.documentTypeId)">
                <mat-radio-button [value]=true>YES</mat-radio-button>
                <mat-radio-button [value]=false>NO</mat-radio-button>
            </mat-radio-group>
        </div>
        <div class="col-7 actions">
            <input style="display: none" [attr.id]="vendorDocCtrl.tdsCtrl.browserId" type="file" multiple
                accept=".xls,.xlsx,.doc,.docx,.pdf,.png,.jpg,.zip"
                (change)="onFileChange($event, vendorDocCtrl.tdsCtrl.documentTypeId)" />
            <button mat-raised-button class="footer-actions" [disabled]="!vendorDocumentForm.get('hasTdsLower').value"
                (click)="onBrowseFileClick($event, vendorDocCtrl.tdsCtrl.browserId)">Attach</button>
            <div *ngIf="filesMap[vendorDocCtrl.tdsCtrl.documentTypeId]?.isAttached" style="display: flex;
    flex-wrap: wrap;">
                <span class="filename"
                    *ngFor="let f of filesMap[vendorDocCtrl.tdsCtrl.documentTypeId]?.filesList; let fInd = index">
                    <span>
                        <mat-icon matTooltip="{{ f.actualFileName }}" (click)="downloadFile(f)">description</mat-icon>
                        <button mat-button mat-icon-button aria-label="Delete" *ngIf="!disableSubmit"
                            (click)="onDeleteFileClick(f, fInd, vendorDocCtrl.tdsCtrl.documentTypeId)">
                            <mat-icon>delete_outline</mat-icon>
                        </button>
                    </span>
                </span>

            </div>
            <div *ngIf="filesMap[vendorDocCtrl.tdsCtrl.documentTypeId] && 
            filesMap[vendorDocCtrl.tdsCtrl.documentTypeId]?.isError" class="errortxt">
                Please attach the Document(s)
            </div>
            <div *ngIf="filesMap[vendorDocCtrl.tdsCtrl.documentTypeId]?.isAttachWithoutValue" class="errortxt">
                TDS is not selected for this attached document
            </div>
        </div>

    </div>
    <!------------------------------------- isSEZ---------------------- -->
    <div class="row doc-field" *ngIf="!showUSField()">
        <div class="col-3 doc-form-field">
            <mat-label>{{vendorDocCtrl.sezCtrl.placeholder}}</mat-label>
        </div>
        <div class="col-2 doc-form-field">
            <mat-radio-group formControlName="isSez"
                (change)="updateMandatory('isSez',vendorDocCtrl.sezCtrl.documentTypeId)">
                <mat-radio-button [value]=true>YES</mat-radio-button>
                <mat-radio-button [value]=false>NO</mat-radio-button>
            </mat-radio-group>
        </div>
        <div class="col-7 actions">
            <input style="display: none" [attr.id]="vendorDocCtrl.sezCtrl.browserId" type="file" multiple
                accept=".xls,.xlsx,.doc,.docx,.pdf,.png,.jpg,.zip"
                (change)="onFileChange($event, vendorDocCtrl.sezCtrl.documentTypeId)" />
            <button mat-raised-button class="footer-actions" [disabled]="!vendorDocumentForm.get('isSez').value"
                (click)="onBrowseFileClick($event, vendorDocCtrl.sezCtrl.browserId);">Attach</button>
            <div *ngIf="filesMap[vendorDocCtrl.sezCtrl.documentTypeId]?.isAttached" style="display: flex;
    flex-wrap: wrap;">
                <span class="filename"
                    *ngFor="let f of filesMap[vendorDocCtrl.sezCtrl.documentTypeId]?.filesList; let fInd = index">
                    <span>
                        <mat-icon matTooltip="{{ f.actualFileName }}" (click)="downloadFile(f)">description</mat-icon>
                        <button mat-button mat-icon-button aria-label="Delete" *ngIf="!disableSubmit"
                            (click)="onDeleteFileClick(f, fInd, vendorDocCtrl.sezCtrl.documentTypeId)">
                            <mat-icon>delete_outline</mat-icon>
                        </button>
                    </span>
                </span>

            </div>
            <div *ngIf="filesMap[vendorDocCtrl.sezCtrl.documentTypeId] && filesMap[vendorDocCtrl.sezCtrl.documentTypeId]?.isError"
                class="errortxt">
                Please attach the Document(s)
            </div>
            <div *ngIf="filesMap[vendorDocCtrl.sezCtrl.documentTypeId]?.isAttachWithoutValue" class="errortxt">
                SEZ is not selected for this attached document
            </div>
        </div>

    </div>
    <!------------------------------------- RCM ---------------------- -->
    <div class="row doc-field" *ngIf="!showUSField()">
        <div class="col-3 doc-form-field">
            <mat-label>Is RCM applicable?</mat-label>
        </div>
        <div class="col-2 doc-form-field">
            <mat-radio-group aria-label="Is RCM applicable?" formControlName="isRcmApplicable">
                <mat-radio-button [value]=true>YES</mat-radio-button>
                <mat-radio-button [value]=false>NO</mat-radio-button>
            </mat-radio-group>
        </div>
        <div class="col-7 doc-form-field"></div>
    </div>

    <!------------------------------------- CIN No---------------------- -->
    <div class="row doc-field" *ngIf="!showUSField()">
        <div class="col-5 doc-form-field">
            <mat-form-field class="full-width">
                <input type="text" matInput placeholder="CIN No." formControlName="cinNum" autocomplete="off">
            </mat-form-field>
        </div>
    </div>


    <!-- --------------------------------------------------------------------US Registration Fields------------------------------------------------------------------ -->


    <!-- ---------------------------------------Payee Identification------------------ -->
    <div class="row doc-field" *ngIf="showUSField()">
        <div class="col-5 doc-form-field">
            <mat-label>Payee Identification</mat-label>
        </div>
        <div class="col-7 doc-form-field">
            <mat-radio-group [(ngModel)]="usPayeeIdentificatn" (change)="updatePayeeIdentificatn()"
                [ngModelOptions]="{standalone: true}">
                <mat-radio-button value='taxId'>Tax ID No.</mat-radio-button>
                <mat-radio-button value='socialSec'>Social Security No.</mat-radio-button>
                <mat-radio-button value='ein'>EIN</mat-radio-button>
            </mat-radio-group>
        </div>
    </div>

    <!-- ---------------------------------------Tax ID------------------ -->
    <div class="row doc-field" *ngIf="(showUSField() && (usPayeeIdentificatn=='taxId'))">
        <div class="col-5 doc-form-field form-group">
            <mat-form-field class="full-width">
                <input type="text" matInput placeholder="{{vendorDocCtrl.taxIdNoCtrl.placeholder}}"
                    formControlName="usTaxId" minlength="9" maxlength="11" autocomplete="off"
                    (blur)="updateMandatory('usTaxId',vendorDocCtrl.taxIdNoCtrl.documentTypeId)">
                <mat-error class="errortxt" *ngIf="( isSubmitted ) && vdf?.usTaxId?.errors?.required">Tax ID no. is
                    required
                </mat-error>
                <mat-error class="errortxt" *ngIf="( isSubmitted ) && vdf?.usTaxId?.errors?.minlength">Minimum 9
                    characters are required
                </mat-error>
                <mat-error class="errortxt" *ngIf="( isSubmitted ) && vdf?.usTaxId?.errors?.maxlength">Maximum 11
                    characters are required
                </mat-error>
            </mat-form-field>
        </div>

        <div class="col-7 actions">
            <input style="display: none" [attr.id]="vendorDocCtrl.taxIdNoCtrl.browserId" type="file" multiple
                accept=".xls,.xlsx,.doc,.docx,.pdf,.png,.jpg,.zip"
                (change)="onFileChange($event, vendorDocCtrl.taxIdNoCtrl.documentTypeId)" />
            <button mat-raised-button class="footer-actions"
                (click)="onBrowseFileClick($event, vendorDocCtrl.taxIdNoCtrl.browserId)"
                [disabled]="!vendorDocumentForm.get('usTaxId').value">Attach</button>

            <div *ngIf="filesMap[vendorDocCtrl.taxIdNoCtrl.documentTypeId]?.isAttached" style="display: flex;
    flex-wrap: wrap;">
                <span class="filename"
                    *ngFor="let f of filesMap[vendorDocCtrl.taxIdNoCtrl.documentTypeId]?.filesList; let fInd = index">
                    <span>
                        <mat-icon matTooltip="{{ f.actualFileName }}" (click)="downloadFile(f)">description</mat-icon>
                        <button mat-button mat-icon-button aria-label="Delete" *ngIf="!disableSubmit"
                            (click)="onDeleteFileClick(f, fInd, vendorDocCtrl.taxIdNoCtrl.documentTypeId)">
                            <mat-icon>delete_outline</mat-icon>
                        </button>

                    </span>
                </span>

            </div>
            <div *ngIf="filesMap[vendorDocCtrl.taxIdNoCtrl.documentTypeId] && 
            filesMap[vendorDocCtrl.taxIdNoCtrl.documentTypeId]?.isError" class="errortxt">
                Please attach the Document(s)
            </div>
            <div *ngIf="filesMap[vendorDocCtrl.taxIdNoCtrl.documentTypeId]?.isAttachWithoutValue" class="errortxt">
                Tax Id no. is missing for this attached document
            </div>

        </div>
    </div>

    <!-- ---------------------------------------Tax ID --  (w8 BENE)  ------------------ -->
    <div class="row doc-field" *ngIf="(showUSField() && (usPayeeIdentificatn =='taxId'))">
        <div class="col-3 doc-form-field">
            <mat-label>{{vendorDocCtrl.w8Ctrl.placeholder}}</mat-label>
        </div>
        <div class="col-2 doc-form-field">
            <mat-radio-group formControlName="usW8Bene"
                (change)="updateMandatory('usW8Bene',vendorDocCtrl.w8Ctrl.documentTypeId)">
                <mat-radio-button [value]=true>YES</mat-radio-button>
                <mat-radio-button [value]=false>NO</mat-radio-button>
            </mat-radio-group>
        </div>
        <div class="col-7 actions">
            <input style="display: none" [attr.id]="vendorDocCtrl.w8Ctrl.browserId" type="file" multiple
                accept=".xls,.xlsx,.doc,.docx,.pdf,.png,.jpg,.zip"
                (change)="onFileChange($event, vendorDocCtrl.w8Ctrl.documentTypeId)" />
            <button mat-raised-button class="footer-actions" [disabled]="!vendorDocumentForm.get('usW8Bene').value"
                (click)="onBrowseFileClick($event, vendorDocCtrl.w8Ctrl.browserId);">Attach</button>
            <div *ngIf="filesMap[vendorDocCtrl.w8Ctrl.documentTypeId]?.isAttached" style="display: flex;
flex-wrap: wrap;">
                <span class="filename"
                    *ngFor="let f of filesMap[vendorDocCtrl.w8Ctrl.documentTypeId]?.filesList; let fInd = index">
                    <span>
                        <mat-icon matTooltip="{{ f.actualFileName }}" (click)="downloadFile(f)">description</mat-icon>
                        <button mat-button mat-icon-button aria-label="Delete" *ngIf="!disableSubmit"
                            (click)="onDeleteFileClick(f, fInd, vendorDocCtrl.w8Ctrl.documentTypeId)">
                            <mat-icon>delete_outline</mat-icon>
                        </button>
                    </span>
                </span>

            </div>
            <div *ngIf="filesMap[vendorDocCtrl.w8Ctrl.documentTypeId] && filesMap[vendorDocCtrl.w8Ctrl.documentTypeId]?.isError"
                class="errortxt">
                Please attach the Document(s)
            </div>
            <div *ngIf="filesMap[vendorDocCtrl.w8Ctrl.documentTypeId]?.isAttachWithoutValue" class="errortxt">
                w8 BENE/BEN is not selected for this attached document
            </div>
        </div>

    </div>

    <!-- ---------------------------------------Social Security------------------ -->
    <div class="row doc-field" *ngIf="(showUSField() && (usPayeeIdentificatn =='socialSec'))">
        <div class="col-5 doc-form-field form-group">
            <mat-form-field class="full-width">
                <input type="text" matInput placeholder="{{vendorDocCtrl.socialSecNoCtrl.placeholder}}"
                    formControlName="usSocialSecurity" minlength="9" maxlength="11" autocomplete="off"
                    (blur)="updateMandatory('usSocialSecurity',vendorDocCtrl.socialSecNoCtrl.documentTypeId)">
                <mat-error class="errortxt" *ngIf="( isSubmitted ) && vdf?.usSocialSecurity?.errors?.required">Social
                    Security no. is required
                </mat-error>
                <mat-error class="errortxt" *ngIf="( isSubmitted ) && vdf?.usSocialSecurity?.errors?.minlength">Minimum 9
                    characters are required
                </mat-error>
                <mat-error class="errortxt" *ngIf="( isSubmitted ) && vdf?.usSocialSecurity?.errors?.maxlength">Maximum 11
                    characters are required
                </mat-error>
            </mat-form-field>
        </div>
        <div class="col-7 actions">
            <input style="display: none" [attr.id]="vendorDocCtrl.socialSecNoCtrl.browserId" type="file" multiple
                accept=".xls,.xlsx,.doc,.docx,.pdf,.png,.jpg,.zip"
                (change)="onFileChange($event, vendorDocCtrl.socialSecNoCtrl.documentTypeId)" />
            <button mat-raised-button class="footer-actions"
                (click)="onBrowseFileClick($event, vendorDocCtrl.socialSecNoCtrl.browserId)"
                [disabled]="!vendorDocumentForm.get('usSocialSecurity').value">Attach</button>

            <div *ngIf="filesMap[vendorDocCtrl.socialSecNoCtrl.documentTypeId]?.isAttached" style="display: flex;
    flex-wrap: wrap;">
                <span class="filename"
                    *ngFor="let f of filesMap[vendorDocCtrl.socialSecNoCtrl.documentTypeId]?.filesList; let fInd = index">
                    <span>
                        <mat-icon matTooltip="{{ f.actualFileName }}" (click)="downloadFile(f)">description</mat-icon>
                        <button mat-button mat-icon-button aria-label="Delete" *ngIf="!disableSubmit"
                            (click)="onDeleteFileClick(f, fInd, vendorDocCtrl.socialSecNoCtrl.documentTypeId)">
                            <mat-icon>delete_outline</mat-icon>
                        </button>
                    </span>
                </span>
            </div>
            <div *ngIf="filesMap[vendorDocCtrl.socialSecNoCtrl.documentTypeId] && 
            filesMap[vendorDocCtrl.socialSecNoCtrl.documentTypeId]?.isError" class="errortxt">
                Please attach the Document(s)
            </div>
            <div *ngIf="filesMap[vendorDocCtrl.socialSecNoCtrl.documentTypeId]?.isAttachWithoutValue" class="errortxt">
                Social security no. is missing for this attached document
            </div>
        </div>
    </div>

    <!-- ---------------------------------------EIN no------------------ -->
    <div class="row doc-field" *ngIf="(showUSField() && (usPayeeIdentificatn =='ein'))">
        <div class="col-5 doc-form-field form-group">
            <mat-form-field class="full-width">
                <input type="text" matInput (keypress)="omit_special_char($event)"
                    placeholder="{{vendorDocCtrl.einCtrl.placeholder}}" formControlName="usEinNumber" autocomplete="off"
                    minlength="9" maxlength="11"
                    (blur)="updateMandatory('usEinNumber',vendorDocCtrl.einCtrl.documentTypeId)">
                <mat-error class="errortxt" *ngIf="( isSubmitted ) && vdf?.usEinNumber?.errors?.required">EIN no. is
                    required
                </mat-error>
                <mat-error class="errortxt" *ngIf="( isSubmitted ) && vdf?.usEinNumber?.errors?.minlength">Minimum 9
                    characters are required
                </mat-error>
                <mat-error class="errortxt" *ngIf="( isSubmitted ) && vdf?.usEinNumber?.errors?.maxlength">Maximum 11
                    characters are required
                </mat-error>
                
            </mat-form-field>
        </div>
        <div class="col-7 actions">
            <input style="display: none" [attr.id]="vendorDocCtrl.einCtrl.browserId" type="file" multiple
                accept=".xls,.xlsx,.doc,.docx,.pdf,.png,.jpg,.zip"
                (change)="onFileChange($event, vendorDocCtrl.einCtrl.documentTypeId)" />
            <button mat-raised-button class="footer-actions"
                (click)="onBrowseFileClick($event, vendorDocCtrl.einCtrl.browserId)"
                [disabled]="!vendorDocumentForm.get('usEinNumber').value">Attach</button>

            <div *ngIf="filesMap[vendorDocCtrl.einCtrl.documentTypeId]?.isAttached" style="display: flex;
flex-wrap: wrap;">
                <span class="filename"
                    *ngFor="let f of filesMap[vendorDocCtrl.einCtrl.documentTypeId]?.filesList; let fInd = index">
                    <span>
                        <mat-icon matTooltip="{{ f.actualFileName }}" (click)="downloadFile(f)">description</mat-icon>
                        <button mat-button mat-icon-button aria-label="Delete" *ngIf="!disableSubmit"
                            (click)="onDeleteFileClick(f, fInd, vendorDocCtrl.einCtrl.documentTypeId)">
                            <mat-icon>delete_outline</mat-icon>
                        </button>
                    </span>
                </span>
            </div>
            <div *ngIf="filesMap[vendorDocCtrl.einCtrl.documentTypeId] && 
      filesMap[vendorDocCtrl.einCtrl.documentTypeId]?.isError" class="errortxt">
                Please attach the Document(s)
            </div>
            <div *ngIf="filesMap[vendorDocCtrl.einCtrl.documentTypeId]?.isAttachWithoutValue" class="errortxt">
                EIN is missing for this attached document
            </div>
        </div>
    </div>

    <!-- ---------------------------------------EIN No. --  (w9)  ------------------ -->
    <div class="row doc-field" *ngIf="(showUSField() && (usPayeeIdentificatn =='ein'))">
        <div class="col-3 doc-form-field">
            <mat-label>{{vendorDocCtrl.w9Ctrl.placeholder}}</mat-label>
        </div>
        <div class="col-2 doc-form-field">
            <mat-radio-group formControlName="usW9"
                (change)="updateMandatory('usW9',vendorDocCtrl.w9Ctrl.documentTypeId)">
                <mat-radio-button [value]=true>YES</mat-radio-button>
                <mat-radio-button [value]=false>NO</mat-radio-button>
            </mat-radio-group>
        </div>
        <div class="col-7 actions">
            <input style="display: none" [attr.id]="vendorDocCtrl.w9Ctrl.browserId" type="file" multiple
                accept=".xls,.xlsx,.doc,.docx,.pdf,.png,.jpg,.zip"
                (change)="onFileChange($event, vendorDocCtrl.w9Ctrl.documentTypeId)" />
            <button mat-raised-button class="footer-actions" [disabled]="!vendorDocumentForm.get('usW9').value"
                (click)="onBrowseFileClick($event, vendorDocCtrl.w9Ctrl.browserId);">Attach</button>
            <div *ngIf="filesMap[vendorDocCtrl.w9Ctrl.documentTypeId]?.isAttached" style="display: flex;
flex-wrap: wrap;">
                <span class="filename"
                    *ngFor="let f of filesMap[vendorDocCtrl.w9Ctrl.documentTypeId]?.filesList; let fInd = index">
                    <span>
                        <mat-icon matTooltip="{{ f.actualFileName }}" (click)="downloadFile(f)">description</mat-icon>
                        <button mat-button mat-icon-button aria-label="Delete" *ngIf="!disableSubmit"
                            (click)="onDeleteFileClick(f, fInd, vendorDocCtrl.w9Ctrl.documentTypeId)">
                            <mat-icon>delete_outline</mat-icon>
                        </button>
                    </span>
                </span>

            </div>
            <div *ngIf="filesMap[vendorDocCtrl.w9Ctrl.documentTypeId] && filesMap[vendorDocCtrl.w9Ctrl.documentTypeId]?.isError"
                class="errortxt">
                Please attach the Document(s)
            </div>
            <div *ngIf="filesMap[vendorDocCtrl.w9Ctrl.documentTypeId]?.isAttachWithoutValue" class="errortxt">
                w9 is not selected for this attached document
            </div>
        </div>

    </div>


    <!-- ----------------------------------------organisation Categories ---------------------->

    <div class="row doc-field" *ngIf="showUSField()" style="align-items: flex-start;">
        <div class="col-5 doc-form-field">
            <mat-label>Organisation Categories</mat-label>
        </div>
        <div class="col-7 doc-form-field">
            <mat-radio-group formControlName="vendorOrgCatogery" (change)="onOrgCatChange()">
                <div *ngFor="let orgCat of organizationCategoryMasterVO; let i=index">
                    <mat-radio-button [value]="orgCat.catogery" class="orgCategory">
                        {{orgCat.catogery}}
                    </mat-radio-button>
                    <div *ngIf="((orgCat.subCatogeries.length>1) && (vendorDocumentForm.get('vendorOrgCatogery').value == orgCat.catogery))"
                        style="margin-left: 2em;">
                        <mat-radio-group formControlName="vendorOrgSubCategory" (change)=prepareOrgCat()>
                            <mat-radio-button *ngFor="let orgSubCat of orgCat.subCatogeries;let sub=index"
                                [value]="orgSubCat" class="orgCategory">
                                {{orgSubCat}}
                            </mat-radio-button>
                        </mat-radio-group>
                        <div *ngIf="( isSubmitted ) && (vendorDocumentForm.get('vendorOrgSubCategory').errors?.required)"
                            class="errortxt">
                            Organisation Sub Category is not selected
                        </div>
                    </div>
                </div>
            </mat-radio-group>

        </div>
        <div *ngIf="( isSubmitted ) && vendorDocumentForm.get('vendorOrgCatogery').errors?.required" class="errortxt">
            Organisation Category is not selected
        </div>
    </div>

    <!-- ----------------------------------------organisation type ---------------------->
    <div class="row doc-field" *ngIf="showUSField()" style="align-items: flex-start;">
        <div class="col-5 doc-form-field">
            <mat-label>Organisation Type</mat-label>
        </div>
        <div class="col-7 doc-form-field">
            <ul class="orgType">
                <li *ngFor="let orgType of organizationTypeMasterVO;let i =index">
                    <mat-checkbox (change)="prepareOrgTypeList($event.checked,orgType.orgType,i)"
                        [checked]="setOrgType(orgType.orgType)">
                        {{orgType.orgType}}
                    </mat-checkbox>
                </li>
            </ul>
        </div>
    </div>
    <!------------------------------------- Cancelled Chequed---------------------- -->
    <div class="row doc-field" *ngIf="showUSField()">
        <div class="col-5 doc-form-field">
            <mat-label> {{vendorDocCtrl.canChqCtrl.placeholder}} * :</mat-label>
        </div>
        <div class="col-7 actions">
            <input style="display: none" [attr.id]="vendorDocCtrl.canChqCtrl.browserId" type="file" multiple
                accept=".xls,.xlsx,.doc,.docx,.pdf,.png,.jpg,.zip"
                (change)="onFileChange($event, vendorDocCtrl.canChqCtrl.documentTypeId)" />
            <button mat-raised-button class="footer-actions"
                (click)="onBrowseFileClick($event, vendorDocCtrl.canChqCtrl.browserId)">Attach</button>
            <div *ngIf="filesMap[vendorDocCtrl.canChqCtrl.documentTypeId]?.isAttached" style="display: flex;
        flex-wrap: wrap;">
                <span class="filename"
                    *ngFor="let f of filesMap[vendorDocCtrl.canChqCtrl.documentTypeId]?.filesList; let fInd = index">
                    <span>
                        <mat-icon matTooltip="{{ f.actualFileName }}" (click)="downloadFile(f)">description</mat-icon>
                        <button mat-button mat-icon-button aria-label="Delete" *ngIf="!disableSubmit"
                            (click)="onDeleteFileClick(f, fInd, vendorDocCtrl.canChqCtrl.documentTypeId)">
                            <mat-icon>delete_outline</mat-icon>
                        </button>
                    </span>
                </span>

            </div>
            <div *ngIf="filesMap[vendorDocCtrl.canChqCtrl.documentTypeId] && 
                filesMap[vendorDocCtrl.canChqCtrl.documentTypeId]?.isError" class="errortxt">
                Please attach the Document
            </div>
        </div>

    </div>
    <!-- ---------------------------------------minority certificate------------------ -->
    <div class=" row doc-field" *ngIf="showUSField()">
        <div class="col-3 doc-form-field">
            <mat-label>{{vendorDocCtrl.minorityCertCtrl.placeholder}}</mat-label>
        </div>
        <div class="col-2 doc-form-field">
            <mat-radio-group formControlName="usMinorityCertificate"
                (change)="updateMandatory('usMinorityCertificate',vendorDocCtrl.minorityCertCtrl.documentTypeId)">
                <mat-radio-button [value]=true>YES</mat-radio-button>
                <mat-radio-button [value]=false checked>NO</mat-radio-button>
            </mat-radio-group>
        </div>
        <div class="col-7 actions">
            <input style="display: none" [attr.id]="vendorDocCtrl.minorityCertCtrl.browserId" type="file" multiple
                accept=".xls,.xlsx,.doc,.docx,.pdf,.png,.jpg,.zip"
                (change)="onFileChange($event, vendorDocCtrl.minorityCertCtrl.documentTypeId)" />
            <button mat-raised-button class="footer-actions"
                [disabled]="!vendorDocumentForm.get('usMinorityCertificate').value"
                (click)="onBrowseFileClick($event, vendorDocCtrl.minorityCertCtrl.browserId);">Attach</button>
            <div *ngIf="filesMap[vendorDocCtrl.minorityCertCtrl.documentTypeId]?.isAttached" style="display: flex;
flex-wrap: wrap;">
                <span class="filename"
                    *ngFor="let f of filesMap[vendorDocCtrl.minorityCertCtrl.documentTypeId]?.filesList; let fInd = index">
                    <span>
                        <mat-icon matTooltip="{{ f.actualFileName }}" (click)="downloadFile(f)">description
                        </mat-icon>
                        <button mat-button mat-icon-button aria-label="Delete" *ngIf="!disableSubmit"
                            (click)="onDeleteFileClick(f, fInd, vendorDocCtrl.minorityCertCtrl.documentTypeId)">
                            <mat-icon>delete_outline</mat-icon>
                        </button>
                    </span>
                </span>

            </div>
            <div *ngIf="filesMap[vendorDocCtrl.minorityCertCtrl.documentTypeId] && filesMap[vendorDocCtrl.minorityCertCtrl.documentTypeId]?.isError"
                class="errortxt">
                Please attach the Document(s)
            </div>
            <div *ngIf="filesMap[vendorDocCtrl.minorityCertCtrl.documentTypeId]?.isAttachWithoutValue" class="errortxt">
                Minority Certificate is not selected for this attached document
            </div>
        </div>

    </div>

    <!------------------------------------- Others Document---------------------- -->
    <div class="row doc-field">
        <div class="col-5 doc-form-field">
            <mat-form-field class="full-width">
                <input type="text" matInput placeholder="{{vendorDocCtrl.otherCtrl.placeholder}}"
                    formControlName="otherDocDesc" autocomplete="off"
                    (blur)="updateMandatory('otherDocDesc',vendorDocCtrl.otherCtrl.documentTypeId)">
            </mat-form-field>

        </div>
        <div class="col-7 actions">
            <input style="display: none" [attr.id]="vendorDocCtrl.otherCtrl.browserId" type="file" multiple
                accept=".xls,.xlsx,.doc,.docx,.pdf,.png,.jpg,.zip"
                (change)="onFileChange($event, vendorDocCtrl.otherCtrl.documentTypeId)" />
            <button mat-raised-button class="footer-actions" [disabled]="!vendorDocumentForm.get('otherDocDesc').value"
                (click)="onBrowseFileClick($event, vendorDocCtrl.otherCtrl.browserId)">Attach</button>
            <div *ngIf="filesMap[vendorDocCtrl.otherCtrl.documentTypeId]?.isAttached" style="display: flex;
                flex-wrap: wrap;">
                <span class="filename"
                    *ngFor="let f of filesMap[vendorDocCtrl.otherCtrl.documentTypeId]?.filesList; let fInd = index">
                    <span>
                        <mat-icon matTooltip="{{ f.actualFileName }}" (click)="downloadFile(f)">description
                        </mat-icon>
                        <button mat-button mat-icon-button aria-label="Delete" *ngIf="!disableSubmit"
                            (click)="onDeleteFileClick(f, fInd, vendorDocCtrl.otherCtrl.documentTypeId)">
                            <mat-icon>delete_outline</mat-icon>
                        </button>
                    </span>
                </span>
            </div>
            <div *ngIf="filesMap[vendorDocCtrl.otherCtrl.documentTypeId] && 
                filesMap[vendorDocCtrl.otherCtrl.documentTypeId]?.isError" class="errortxt">
                Please attach the Document(s)
            </div>
            <div *ngIf="filesMap[vendorDocCtrl.otherCtrl.documentTypeId]?.isAttachWithoutValue" class="errortxt">
                Other details are missing for this attached document
            </div>
        </div>
    </div>

</form>

<div class="row actions margin-unset" style="margin-top: 2em;">
    <div class="errortxt" *ngIf="isServerError ">
        {{ failureMsg }}
    </div>

    <button mat-raised-button class="footer-actions" (click)="onPrevClick()"
        [disabled]="disableSubmit">Previous</button>
    <button mat-raised-button class="footer-actions footer-actions-green" [disabled]="disableSubmit"
        (click)="onSubmitClick()">Submit</button>
</div>