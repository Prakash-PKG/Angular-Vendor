<div class="main">
    <div class="title">
        <h3>Pending Approvals - Vendor Approvals</h3>
    </div>
    <div class="container my-container margin-unset full-width">
        <form [formGroup]="vendorForm">
            <!--------------- vendor details -------------------------->
            <div class="vendor-detail-section">
                <div class="section-title">
                    <span class="side-icon">
                        <mat-icon>person</mat-icon>
                    </span>
                    <span>Vendor Details</span>
                    <mat-divider></mat-divider>
                </div>

                <div class="Rtable Rtable--2cols Rtable--collapse">

                    <div class="Rtable-cell Rtable-cell--head">Supplier Name *</div>
                    <div class="Rtable-cell">
                        <mat-form-field class="full-width">
                            <input type="text" matInput formControlName="vendorName" autocomplete="off"  required>
                        </mat-form-field>
                        <mat-error class="errortxt" *ngIf="( isSubmitted ) && f?.vendorName?.errors?.required">Supplier Name is required</mat-error>
                    </div>

                    <div class="Rtable-cell Rtable-cell--head">Contact Person</div>
                    <div class="Rtable-cell">
                        <mat-form-field class="full-width">
                            <input type="text" matInput formControlName="contactPerson" autocomplete="off">
                        </mat-form-field>
                    </div>

                    <div class="Rtable-cell Rtable-cell--head">Mobile No. *</div>
                    <div class="Rtable-cell">
                        <mat-form-field class="full-width">
                            <input type="text" matInput onkeypress='return event.charCode >= 48 && event.charCode <= 57' formControlName="mobileNum" autocomplete="off" required>
                        </mat-form-field>
                        <mat-error class="errortxt" *ngIf="( isSubmitted ) && f?.mobileNum?.errors?.required">Mobile No. is required</mat-error>
                        <mat-error class="errortxt" *ngIf="( isSubmitted ) && f?.mobileNum?.errors?.minlength">10 Characters are required</mat-error>
                    </div>

                    <div class="Rtable-cell Rtable-cell--head">Telephone No.</div>
                    <div class="Rtable-cell">
                        <mat-form-field class="full-width">
                            <input type="text" matInput onkeypress='return event.charCode >= 48 && event.charCode <= 57' formControlName="telephoneNum" autocomplete="off" 
                            maxlength="12" >
                        </mat-form-field>
                    </div>

                    <div class="Rtable-cell Rtable-cell--head">Email Id *</div>
                    <div class="Rtable-cell">
                        <mat-form-field class="full-width">
                            <input type="text" matInput formControlName="emailId" autocomplete="off" required>
                        </mat-form-field>
                        <mat-error class="errortxt" *ngIf="( isSubmitted ) && f?.emailId?.errors?.required">Email Id is required</mat-error>
                        <mat-error class="errortxt" *ngIf="( isSubmitted ) && f?.emailId?.errors?.email">Email Id is not valid</mat-error>
                    </div>

                </div>
            </div>

            <!--------------- vendor address -------------------------->
            <div class="vendor-detail-section">
                <div class="section-title">
                    <span class="side-icon">
                        <mat-icon>perm_phone_msg</mat-icon>
                    </span>
                    <span>Vendor Address</span>
                    <mat-divider style="margin: -1em 0px 2em 10.5em"></mat-divider>
                </div>

                <div class="Rtable Rtable--2cols Rtable--collapse">
                    <div class="Rtable-cell Rtable-cell--head">Address Line 1</div>
                    <div class="Rtable-cell">
                        <mat-form-field class="full-width">
                            <input type="text" matInput formControlName="address1" autocomplete="off"  required>
                        </mat-form-field>
                        <mat-error class="errortxt" *ngIf="( isSubmitted ) && f?.address1?.errors?.required">Address Line 1 is required</mat-error>
                    </div>

                    <div class="Rtable-cell Rtable-cell--head">Address Line 2</div>
                    <div class="Rtable-cell">
                        <mat-form-field class="full-width">
                            <input type="text" matInput formControlName="address2" autocomplete="off">
                        </mat-form-field>
                    </div>

                    <div class="Rtable-cell Rtable-cell--head">Street</div>
                    <div class="Rtable-cell">
                        <mat-form-field class="full-width">
                            <input type="text" matInput formControlName="street" autocomplete="off" required>
                        </mat-form-field>
                        <mat-error class="errortxt" *ngIf="( isSubmitted ) && f?.street?.errors?.required">Street is required</mat-error>
                    </div>

                    <div class="Rtable-cell Rtable-cell--head">City</div>
                    <div class="Rtable-cell">
                        <mat-form-field class="full-width" style="width:50%">
                            <input type="text" matInput formControlName="city" autocomplete="off" required>
                        </mat-form-field> -
                        <mat-form-field class="full-width" style="width:45%">
                            <input type="text" matInput onkeypress='return event.charCode >= 48 && event.charCode <= 57' formControlName="pincode" autocomplete="off" maxlength="6" required>
                        </mat-form-field>
                        <mat-error class="errortxt" *ngIf="( isSubmitted ) && f?.city?.errors?.required">Town / City is required</mat-error>
                        <mat-error class="errortxt" *ngIf="( isSubmitted ) && f?.pincode?.errors?.required">Pincode is required</mat-error>
                        <mat-error class="errortxt" *ngIf="( isSubmitted ) && f?.pincode?.errors?.minlength">Minimum {{ f?.pincode?.errors?.minlength?.requiredLength }} characters are required</mat-error>
                        <mat-error class="errortxt" *ngIf="( isSubmitted ) && f?.pincode?.errors?.maxlength">Maximum {{ f?.pincode?.errors?.maxlength?.requiredLength }} characters are required</mat-error>
                    </div>

                    <div class="Rtable-cell Rtable-cell--head">Country</div>
                    <div class="Rtable-cell">
                        <mat-form-field class="full-width">
                            <mat-select formControlName="countryCode" required (selectionChange)="updateStates()">
                                <mat-option *ngFor="let c of countriesList" [value]="c.countryCode">
                                    {{ c.countryName }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-error class="errortxt" *ngIf="( isSubmitted ) && f?.countryCode?.errors?.required">Country is required</mat-error>
                    </div>

                    <div class="Rtable-cell Rtable-cell--head">State</div>
                    <div class="Rtable-cell">
                        <mat-form-field class="full-width">
                            <mat-select formControlName="stateCode"  required>
                                <mat-option *ngFor="let region of regionMasterVOList" [value]="region.regionCode">
                                    {{ region.regionDesc }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-error class="errortxt" *ngIf="( isSubmitted ) && f?.stateCode?.errors?.required">State is required</mat-error>
                    </div>
                </div>

            </div>

            <!--------------- vendor Bank Details -------------------------->
            <div class="vendor-detail-section">
                <div class="section-title">
                    <span class="side-icon">
          <mat-icon>account_balance_wallet</mat-icon>
        </span>
                    <span>Vendor Bank Details</span>
                    <mat-divider style="margin: -1em 0px 2em 12.5em"></mat-divider>
                </div>

                <div class="Rtable Rtable--2cols Rtable--collapse">

                    <div class="Rtable-cell Rtable-cell--head">Account No.</div>
                    <div class="Rtable-cell">{{ vendorDetails.accountNum }}</div>

                    <div class="Rtable-cell Rtable-cell--head">Account Name</div>
                    <div class="Rtable-cell">{{ vendorDetails.accountName }}</div>

                    <div class="Rtable-cell Rtable-cell--head">Account Type</div>
                    <div class="Rtable-cell">{{ vendorDetails.accountType }}</div>

                    <div class="Rtable-cell Rtable-cell--head">IFSC Code</div>
                    <div class="Rtable-cell">{{ vendorDetails.ifscCode }}</div>

                    <div class="Rtable-cell Rtable-cell--head">Bank Name</div>
                    <div class="Rtable-cell">{{ vendorDetails.bankName }}</div>

                    <div class="Rtable-cell Rtable-cell--head">Bank Branch Name</div>
                    <div class="Rtable-cell">{{ vendorDetails.bankBranch }}</div>

                    <div class="Rtable-cell Rtable-cell--head">City</div>
                    <div class="Rtable-cell">{{ vendorDetails.bankCity }}</div>

                    <div class="Rtable-cell Rtable-cell--head">Country</div>
                    <div class="Rtable-cell">{{ vendorDetails.bankCountryName }}</div>

                    <div class="Rtable-cell Rtable-cell--head">Region</div>
                    <div class="Rtable-cell">{{ vendorDetails.bankRegionName }}</div>
                </div>

                <div class="section-title" style="margin-top:1em">
                    <span class="side-icon">
          <mat-icon></mat-icon>
        </span>
                    <span>For International Bank Details</span>
                    <mat-divider style="margin: -1em 0px 2em 16.5em"></mat-divider>
                </div>

                <div class="Rtable Rtable--2cols Rtable--collapse">

                    <div class="Rtable-cell Rtable-cell--head" style="width: 30%; max-width: 30%;">Intermediatry/routing Bank</div>
                    <div class="Rtable-cell" style="width: 70%;">{{ vendorDetails.routingBank }}</div>

                    <div class="Rtable-cell Rtable-cell--head" style="width: 30%; max-width: 30%;">Swift Code of Intermediatry/routing Bank</div>
                    <div class="Rtable-cell" style="width: 70%;">{{ vendorDetails.swiftInterm }}</div>

                    <div class="Rtable-cell Rtable-cell--head" style="width: 30%; max-width: 30%;">Swift Code/BAN</div>
                    <div class="Rtable-cell" style="width: 70%;">{{ vendorDetails.swiftIbanCode }}</div>
                </div>

            </div>

            <!--------------- vendor Documents Details -------------------------->
            <div class="vendor-detail-section">
                <div class="section-title">
                    <span class="side-icon">
          <mat-icon>attachment</mat-icon>
        </span>
                    <span>Vendor Documents Details</span>
                    <mat-divider style="margin: -1em 0px 2em 15.5em"></mat-divider>
                </div>

                <div class="Rtable Rtable--2cols Rtable--collapse">

                    <div class="Rtable-cell Rtable-cell--head">Incorporation Certificate</div>
                    <div class="Rtable-cell">
                        <div class="attachments">
                            <div class="flex-item">
                                <div *ngFor="let file of filesMap[vendorDocCtrl.incCerCtrl.documentTypeId]?.filesList; let i = index" class="filename">
                                    <button mat-button mat-icon-button aria-label="Download" (click)="downloadFile(file)">
                                        <mat-icon matTooltip="{{ file.actualFileName }}">description</mat-icon>
                                    </button>
                                    <button mat-button mat-icon-button aria-label="Delete" *ngIf="isProcurement == true && isEditable == true" (click)="onDeleteFileClick(file, i,vendorDocCtrl.incCerCtrl.documentTypeId)">
                                        <mat-icon>delete_outline</mat-icon>
                                    </button>
                                </div>
                            </div>
                            <div class="flex-item">
                                <div *ngIf="isEditable">
                                    <input style="display: none" [attr.id]="vendorDocCtrl.incCerCtrl.browserId" type="file" multiple accept=".xls,.xlsx,.doc,.docx,.pdf,.png,.jpg,.zip"
                                        (change)="onFileChange($event, vendorDocCtrl.incCerCtrl.documentTypeId)" />
                                    <button mat-button mat-icon-button aria-label="Attach" class="attach-btn" (click)="onBrowseFileClick($event, vendorDocCtrl.incCerCtrl.browserId)">
                                        <mat-icon>attachment</mat-icon>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="Rtable-cell Rtable-cell--head">Cancelled Cheque *</div>
                    <div class="Rtable-cell">
                        <div class="attachments">
                            <div class="flex-item">
                                <div *ngFor="let file of filesMap[vendorDocCtrl.canChqCtrl.documentTypeId]?.filesList; let i = index" class="filename">
                                    <button mat-button mat-icon-button aria-label="Download" (click)="downloadFile(file)">
                  <mat-icon matTooltip="{{ file.actualFileName }}">description</mat-icon>
                </button>
                                    <button mat-button mat-icon-button aria-label="Delete" *ngIf="isProcurement == true && isEditable == true" (click)="onDeleteFileClick(file, i,vendorDocCtrl.canChqCtrl.documentTypeId)">
                  <mat-icon>delete_outline</mat-icon>
                </button>
                                </div>
                            </div>
                            <div class="flex-item">
                                <div *ngIf="isEditable">
                                    <input style="display: none" [attr.id]="vendorDocCtrl.canChqCtrl.browserId" type="file" multiple accept=".xls,.xlsx,.doc,.docx,.pdf,.png,.jpg,.zip"
                                        (change)="onFileChange($event, vendorDocCtrl.canChqCtrl.documentTypeId)" />
                                    <button mat-button mat-icon-button aria-label="Attach" class="attach-btn" (click)="onBrowseFileClick($event, vendorDocCtrl.canChqCtrl.browserId)">
                  <mat-icon>attachment</mat-icon>
                </button>
                                </div>
                            </div>
                        </div>
                        <div class="error-txt" *ngIf="isSubmitted && filesMap[vendorDocCtrl.canChqCtrl.documentTypeId]?.isError">
                            This attachment is mandatory</div>
                    </div>

                    <div class="Rtable-cell Rtable-cell--head">GST No.</div>
                    <div class="Rtable-cell">
                        <mat-form-field class="full-width">
                            <input type="text" matInput formControlName="gstNum" autocomplete="off" maxlength="15" (blur)="onTextFieldValueChange('gstNum',vendorDocCtrl.gstCtrl.documentTypeId)">
                        </mat-form-field>
                    </div>

                    <div class="Rtable-cell Rtable-cell--head">Attachments</div>
                    <div class="Rtable-cell">
                        <div class="attachments">
                            <div class="flex-item">
                                <div *ngFor="let file of filesMap[vendorDocCtrl.gstCtrl.documentTypeId]?.filesList; let i = index" class="filename">
                                    <button mat-button mat-icon-button aria-label="Download" (click)="downloadFile(file)">
                                        <mat-icon matTooltip="{{ file.actualFileName }}">description</mat-icon>
                                    </button>
                                    <button mat-button mat-icon-button aria-label="Delete" *ngIf="isProcurement == true && isEditable == true" (click)="onDeleteFileClick(file, i,vendorDocCtrl.gstCtrl.documentTypeId)">
                                        <mat-icon>delete_outline</mat-icon>
                                    </button>
                                </div>
                            </div>
                            <div class="flex-item">
                                <div *ngIf="isEditable">
                                    <input style="display: none" [attr.id]="vendorDocCtrl.gstCtrl.browserId" type="file" multiple accept=".xls,.xlsx,.doc,.docx,.pdf,.png,.jpg,.zip"
                                        (change)="onFileChange($event, vendorDocCtrl.gstCtrl.documentTypeId)" />
                                    <button mat-button mat-icon-button aria-label="Attach" class="attach-btn" (click)="onBrowseFileClick($event, vendorDocCtrl.gstCtrl.browserId)">
                                        <mat-icon>attachment</mat-icon>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="error-txt" *ngIf="isSubmitted && filesMap[vendorDocCtrl.gstCtrl.documentTypeId]?.isError">This attachment is mandatory if GST Registered</div>
                    </div>

                    <div class="Rtable-cell Rtable-cell--head">PAN No. *</div>
                    <div class="Rtable-cell">
                        <mat-form-field class="full-width">
                            <input type="text" matInput formControlName="panNum" autocomplete="off" required maxlength="10">
                        </mat-form-field>
                        
                        <mat-error class="errortxt" *ngIf="isSubmitted == true && f?.panNum?.errors?.required">PAN No. is required</mat-error>
                        <mat-error class="errortxt" *ngIf="isSubmitted == true && f?.panNum?.errors?.minlength">10 characters are required</mat-error>
                    </div>
                    

                    <div class="Rtable-cell Rtable-cell--head">Attachments</div>
                    <div class="Rtable-cell">
                        <div class="attachments">
                            <div class="flex-item">
                                <div *ngFor="let file of filesMap[vendorDocCtrl.panCtrl.documentTypeId]?.filesList; let i = index" class="filename">
                                    <button mat-button mat-icon-button aria-label="Download" (click)="downloadFile(file)">
                  <mat-icon matTooltip="{{ file.actualFileName }}">description</mat-icon>
                </button>
                                    <button mat-button mat-icon-button aria-label="Delete" *ngIf="isProcurement == true && isEditable == true" (click)="onDeleteFileClick(file, i,vendorDocCtrl.panCtrl.documentTypeId)">
                  <mat-icon>delete_outline</mat-icon>
                </button>
                                </div>
                            </div>
                            <div class="flex-item">
                                <div *ngIf="isEditable">
                                    <input style="display: none" [attr.id]="vendorDocCtrl.panCtrl.browserId" type="file" multiple accept=".xls,.xlsx,.doc,.docx,.pdf,.png,.jpg,.zip"
                                        (change)="onFileChange($event, vendorDocCtrl.panCtrl.documentTypeId)" />
                                    <button mat-button mat-icon-button aria-label="Attach" class="attach-btn" (click)="onBrowseFileClick($event, vendorDocCtrl.panCtrl.browserId)">
                  <mat-icon>attachment</mat-icon>
                </button>
                                </div>
                            </div>
                        </div>
                        <div class="error-txt" *ngIf="isSubmitted && filesMap[vendorDocCtrl.panCtrl.documentTypeId]?.isError">This attachment is mandatory.
                        </div>
                    </div>

                    <div class="Rtable-cell Rtable-cell--head">LUT No.</div>
                    <div class="Rtable-cell">
                        <mat-form-field class="full-width">
                            <input type="text" matInput formControlName="lutNum" autocomplete="off" (blur)="onTextFieldValueChange('lutNum',vendorDocCtrl.lutNoCtrl.documentTypeId)">
                        </mat-form-field>
                    </div>

                    <div class="Rtable-cell Rtable-cell--head">Attachments</div>
                    <div class="Rtable-cell">
                        <div class="attachments">
                            <div class="flex-item">
                                <div *ngFor="let file of filesMap[vendorDocCtrl.lutNoCtrl.documentTypeId]?.filesList; let i = index" class="filename">
                                    <button mat-button mat-icon-button aria-label="Download" (click)="downloadFile(file)">
                                        <mat-icon matTooltip="{{ file.actualFileName }}">description</mat-icon>
                                    </button>
                                    <button mat-button mat-icon-button aria-label="Delete" *ngIf="isProcurement == true && isEditable == true" (click)="onDeleteFileClick(file, i,vendorDocCtrl.lutNoCtrl.documentTypeId)">
                                        <mat-icon>delete_outline</mat-icon>
                                    </button>
                                </div>
                            </div>
                            <div class="flex-item">
                                <div *ngIf="isEditable">
                                    <input style="display: none" [attr.id]="vendorDocCtrl.lutNoCtrl.browserId" type="file" multiple accept=".xls,.xlsx,.doc,.docx,.pdf,.png,.jpg,.zip"
                                        (change)="onFileChange($event, vendorDocCtrl.lutNoCtrl.documentTypeId)" />
                                    <button mat-button mat-icon-button aria-label="Attach" class="attach-btn" (click)="onBrowseFileClick($event, vendorDocCtrl.lutNoCtrl.browserId)">
                                        <mat-icon>attachment</mat-icon>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="error-txt" *ngIf="isSubmitted && filesMap[vendorDocCtrl.lutNoCtrl.documentTypeId]?.isError">This attachment is mandatory.
                        </div>

                    </div>

                    <div class="Rtable-cell Rtable-cell--head">LUT Date</div>
                    <div class="Rtable-cell">
                        <mat-form-field style="width:9em;">
                            <input matInput [matDatepicker]="picker" formControlName="lutDate" autocomplete="off">
                            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                            <mat-datepicker #picker></mat-datepicker>
                        </mat-form-field>
                        <div *ngIf="isSubmitted && f?.lutDate?.errors?.required" class="errortxt">
                            LUT Date is required
                        </div>
                    </div>

                    <div class="Rtable-cell Rtable-cell--head">CIN No.</div>
                    <div class="Rtable-cell">
                        <mat-form-field class="full-width">
                            <input type="text" matInput formControlName="cinNum" autocomplete="off">
                        </mat-form-field>
                    </div>

                    <div class="Rtable-cell Rtable-cell--head">PF No.</div>
                    <div class="Rtable-cell">
                        <mat-form-field class="full-width">
                            <input type="text" matInput formControlName="pfNum" autocomplete="off" (blur)="onTextFieldValueChange('pfNum',vendorDocCtrl.pfCtrl.documentTypeId)">
                        </mat-form-field>
                    </div>

                    <div class="Rtable-cell Rtable-cell--head">Attachments</div>
                    <div class="Rtable-cell">
                        <div class="attachments">
                            <div class="flex-item">
                                <div *ngFor="let file of filesMap[vendorDocCtrl.pfCtrl.documentTypeId]?.filesList; let i = index" class="filename">
                                    <button mat-button mat-icon-button aria-label="Download" (click)="downloadFile(file)">
                                        <mat-icon matTooltip="{{ file.actualFileName }}">description</mat-icon>
                                    </button>
                                    <button mat-button mat-icon-button aria-label="Delete" *ngIf="isProcurement == true && isEditable == true" (click)="onDeleteFileClick(file, i,vendorDocCtrl.pfCtrl.documentTypeId)">
                                        <mat-icon>delete_outline</mat-icon>
                                    </button>
                                </div>
                            </div>
                            <div class="flex-item">
                                <div *ngIf="isEditable">
                                    <input style="display: none" [attr.id]="vendorDocCtrl.pfCtrl.browserId" type="file" multiple accept=".xls,.xlsx,.doc,.docx,.pdf,.png,.jpg,.zip"
                                        (change)="onFileChange($event, vendorDocCtrl.pfCtrl.documentTypeId)" />
                                    <button mat-button mat-icon-button aria-label="Attach" class="attach-btn" (click)="onBrowseFileClick($event, vendorDocCtrl.pfCtrl.browserId)">
                                        <mat-icon>attachment</mat-icon>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="error-txt" *ngIf="isSubmitted && filesMap[vendorDocCtrl.pfCtrl.documentTypeId]?.isError">This attachment is mandatory if PF exists.</div>
                    </div>

                    <div class="Rtable-cell Rtable-cell--head">ESI No.</div>
                    <div class="Rtable-cell">
                        <mat-form-field class="full-width">
                            <input type="text" matInput formControlName="esiNum" autocomplete="off" (blur)="onTextFieldValueChange('esiNum',vendorDocCtrl.esiCtrl.documentTypeId)">
                        </mat-form-field>
                    </div>

                    <div class="Rtable-cell Rtable-cell--head">Attachments</div>
                    <div class="Rtable-cell">
                        <div class="attachments">
                            <div class="flex-item">
                                <div *ngFor="let file of filesMap[vendorDocCtrl.esiCtrl.documentTypeId]?.filesList; let i = index" class="filename">
                                    <button mat-button mat-icon-button aria-label="Download" (click)="downloadFile(file)">
                                    <mat-icon matTooltip="{{ file.actualFileName }}">description</mat-icon>
                                    </button>
                                    <button mat-button mat-icon-button aria-label="Delete" *ngIf="isProcurement == true && isEditable == true" (click)="onDeleteFileClick(file, i,vendorDocCtrl.esiCtrl.documentTypeId)">
                                    <mat-icon>delete_outline</mat-icon>
                                    </button>
                                </div>
                            </div>
                            <div class="flex-item">
                                <div *ngIf="isEditable">
                                    <input style="display: none" [attr.id]="vendorDocCtrl.esiCtrl.browserId" type="file" multiple accept=".xls,.xlsx,.doc,.docx,.pdf,.png,.jpg,.zip"
                                        (change)="onFileChange($event, vendorDocCtrl.esiCtrl.documentTypeId)" />
                                    <button mat-button mat-icon-button aria-label="Attach" class="attach-btn" (click)="onBrowseFileClick($event, vendorDocCtrl.esiCtrl.browserId)">
                                    <mat-icon>attachment</mat-icon>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="error-txt" *ngIf="isSubmitted && filesMap[vendorDocCtrl.esiCtrl.documentTypeId]?.isError">This attachment is mandatory if ESI exists.</div>
                    </div>


                    <div class="Rtable-cell Rtable-cell--head">Is MSME registered? </div>
                    <div class="Rtable-cell" *ngIf="!isEditable"> {{ vendorDetails.isMsmedRegistered == true ? 'Yes' : 'No'}}
                    </div>
                    <div class="Rtable-cell" *ngIf="isEditable">
                        <mat-radio-group formControlName="isMsmedRegistered" >
                            <mat-radio-button (change)="onRadioBtnSelectionChange($event,vendorDocCtrl.msmeCtrl.documentTypeId)" [value]=true>Yes</mat-radio-button>
                            <mat-radio-button (change)="onRadioBtnSelectionChange($event,vendorDocCtrl.msmeCtrl.documentTypeId)" [value]=false>No</mat-radio-button>
                        </mat-radio-group>
                    </div>

                    <div class="Rtable-cell Rtable-cell--head">Attachments</div>
                    <div class="Rtable-cell">
                        <div class="attachments">
                            <div class="flex-item">
                                <div *ngFor="let file of filesMap[vendorDocCtrl.msmeCtrl.documentTypeId]?.filesList; let i = index" class="filename">
                                    <button mat-button mat-icon-button aria-label="Download" (click)="downloadFile(file)">
                  <mat-icon matTooltip="{{ file.actualFileName }}">description</mat-icon>
                </button>
                                    <button mat-button mat-icon-button aria-label="Delete" *ngIf="isProcurement == true && isEditable == true" (click)="onDeleteFileClick(file, i,vendorDocCtrl.msmeCtrl.documentTypeId)">
                  <mat-icon>delete_outline</mat-icon>
                </button>
                                </div>
                            </div>
                            <div class="flex-item">
                                <div *ngIf="isEditable">
                                    <input style="display: none" [attr.id]="vendorDocCtrl.msmeCtrl.browserId" type="file" multiple accept=".xls,.xlsx,.doc,.docx,.pdf,.png,.jpg,.zip"
                                        (change)="onFileChange($event, vendorDocCtrl.msmeCtrl.documentTypeId)" />
                                    <button mat-button mat-icon-button aria-label="Attach" class="attach-btn" (click)="onBrowseFileClick($event, vendorDocCtrl.msmeCtrl.browserId)">
                  <mat-icon>attachment</mat-icon>
                </button>
                                </div>
                            </div>
                        </div>
                        <div class="error-txt" *ngIf="isSubmitted && filesMap[vendorDocCtrl.msmeCtrl.documentTypeId]?.isError"> This attachment is mandatory if MSME.</div>
                    </div>

                    <div class="Rtable-cell Rtable-cell--head">Have any TDS lower deduction certificate? </div>
                    <div class="Rtable-cell" *ngIf="!isEditable">{{ vendorDetails.hasTdsLower == true ? 'Yes' : 'No'}}</div>
                    <div class="Rtable-cell" *ngIf="isEditable">
                        <mat-radio-group formControlName="hasTdsLower" >
                            <mat-radio-button (change)="onRadioBtnSelectionChange($event,vendorDocCtrl.tdsCtrl.documentTypeId)" [value]=true>Yes</mat-radio-button>
                            <mat-radio-button (change)="onRadioBtnSelectionChange($event,vendorDocCtrl.tdsCtrl.documentTypeId)" [value]=false>No</mat-radio-button>
                        </mat-radio-group>
                    </div>

                    <div class="Rtable-cell Rtable-cell--head">Attachments</div>
                    <div class="Rtable-cell">
                        <div class="attachments">
                            <div class="flex-item">
                                <div *ngFor="let file of filesMap[vendorDocCtrl.tdsCtrl.documentTypeId]?.filesList; let i = index" class="filename">
                                    <button mat-button mat-icon-button aria-label="Download" (click)="downloadFile(file)">
                  <mat-icon matTooltip="{{ file.actualFileName }}">description</mat-icon>
                </button>
                                    <button mat-button mat-icon-button aria-label="Delete" *ngIf="isProcurement == true && isEditable == true" (click)="onDeleteFileClick(file, i,vendorDocCtrl.tdsCtrl.documentTypeId)">
                  <mat-icon>delete_outline</mat-icon>
                </button>
                                </div>
                            </div>
                            <div class="flex-item">
                                <div *ngIf="isEditable">
                                    <input style="display: none" [attr.id]="vendorDocCtrl.tdsCtrl.browserId" type="file" multiple accept=".xls,.xlsx,.doc,.docx,.pdf,.png,.jpg,.zip"
                                        (change)="onFileChange($event, vendorDocCtrl.tdsCtrl.documentTypeId)" />
                                    <button mat-button mat-icon-button aria-label="Attach" class="attach-btn" (click)="onBrowseFileClick($event, vendorDocCtrl.tdsCtrl.browserId)">
                  <mat-icon>attachment</mat-icon>
                </button>
                                </div>
                            </div>
                        </div>
                        <div class="error-txt" *ngIf="isSubmitted && filesMap[vendorDocCtrl.tdsCtrl.documentTypeId]?.isError">This attachment is mandatory if TDS available</div>

                    </div>

                    <div class="Rtable-cell Rtable-cell--head">SEZ</div>
                    <div class="Rtable-cell" *ngIf="!isEditable"> {{ vendorDetails.isSez == true ? 'Yes' : 'No' }}</div>
                    <div class="Rtable-cell" *ngIf="isEditable">
                        <mat-radio-group formControlName="isSez">
                            <mat-radio-button (change)="onRadioBtnSelectionChange($event,vendorDocCtrl.sezCtrl.documentTypeId)" [value]=true>Yes</mat-radio-button>
                            <mat-radio-button (change)="onRadioBtnSelectionChange($event,vendorDocCtrl.sezCtrl.documentTypeId)" [value]=false>No</mat-radio-button>
                        </mat-radio-group>
                    </div>

                    <div class="Rtable-cell Rtable-cell--head">Attachments</div>
                    <div class="Rtable-cell">
                        <div class="attachments">
                            <div class="flex-item">
                                <div *ngFor="let file of filesMap[vendorDocCtrl.sezCtrl.documentTypeId]?.filesList; let i = index" class="filename">
                                    <button mat-button mat-icon-button aria-label="Download" (click)="downloadFile(file)">
                  <mat-icon matTooltip="{{ file.actualFileName }}">description</mat-icon>
                </button>
                                    <button mat-button mat-icon-button aria-label="Delete" *ngIf="isProcurement == true && isEditable == true" (click)="onDeleteFileClick(file, i,vendorDocCtrl.sezCtrl.documentTypeId)">
                  <mat-icon>delete_outline</mat-icon>
                </button>
                                </div>
                            </div>
                            <div class="flex-item">
                                <div *ngIf="isEditable">
                                    <input style="display: none" [attr.id]="vendorDocCtrl.sezCtrl.browserId" type="file" multiple accept=".xls,.xlsx,.doc,.docx,.pdf,.png,.jpg,.zip"
                                        (change)="onFileChange($event, vendorDocCtrl.sezCtrl.documentTypeId)" />
                                    <button mat-button mat-icon-button aria-label="Attach" class="attach-btn" (click)="onBrowseFileClick($event, vendorDocCtrl.sezCtrl.browserId)">
                  <mat-icon>attachment</mat-icon>
                </button>
                                </div>
                            </div>
                        </div>
                        <div class="error-txt" *ngIf="isSubmitted && filesMap[vendorDocCtrl.sezCtrl.documentTypeId]?.isError">This attachment is mandatory if SEZ is available</div>
                    </div>

                    <div class="Rtable-cell Rtable-cell--head">Is RCM applicable? </div>
                    <div class="Rtable-cell" *ngIf="!isEditable">{{ vendorDetails.isRcmApplicable == true ? 'Yes' : 'No'}}</div>
                    <div class="Rtable-cell" *ngIf="isEditable">
                        <mat-radio-group formControlName="isRcmApplicable">
                            <mat-radio-button [value]=true>Yes</mat-radio-button>
                            <mat-radio-button [value]=false>No</mat-radio-button>
                        </mat-radio-group>
                    </div>


                    <div class="Rtable-cell Rtable-cell--head"></div>
                    <div class="Rtable-cell">
                    </div>

                    <div class="Rtable-cell Rtable-cell--head">Others</div>
                    <div class="Rtable-cell">
                        <mat-form-field class="full-width">
                            <input type="text" matInput formControlName="otherDocDesc" autocomplete="off" (blur)="onTextFieldValueChange('otherDocDesc',vendorDocCtrl.otherCtrl.documentTypeId)">
                        </mat-form-field>
                    </div>

                    <div class="Rtable-cell Rtable-cell--head">Attachments</div>
                    <div class="Rtable-cell">
                        <div class="attachments">
                            <div class="flex-item">
                                <div *ngFor="let file of filesMap[vendorDocCtrl.otherCtrl.documentTypeId]?.filesList; let i = index" class="filename">
                                    <button mat-button mat-icon-button aria-label="Download" (click)="downloadFile(file)">
                                    <mat-icon matTooltip="{{ file.actualFileName }}">description</mat-icon>
                                    </button>
                                    <button mat-button mat-icon-button aria-label="Delete" *ngIf="isProcurement == true && isEditable == true" (click)="onDeleteFileClick(file, i,vendorDocCtrl.otherCtrl.documentTypeId)">
                                    <mat-icon>delete_outline</mat-icon>
                                    </button>
                                </div>
                            </div>
                            <div class="flex-item">
                                <div *ngIf="isEditable">
                                    <input style="display: none" [attr.id]="vendorDocCtrl.otherCtrl.browserId" type="file" multiple accept=".xls,.xlsx,.doc,.docx,.pdf,.png,.jpg,.zip"
                                        (change)="onFileChange($event, vendorDocCtrl.otherCtrl.documentTypeId)" />
                                    <button mat-button mat-icon-button aria-label="Attach" class="attach-btn" (click)="onBrowseFileClick($event, vendorDocCtrl.otherCtrl.browserId)">
                                    <mat-icon>attachment</mat-icon>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="error-txt" *ngIf="isSubmitted && filesMap[vendorDocCtrl.otherCtrl.documentTypeId]?.isError">This attachment is mandatory if others value exists.</div>
                    </div>

                </div>
            </div>

            <div class="approver-section">
                <div class="search-row">
                    <div class=" search-row-element">
                        <mat-form-field class="field">
                            <mat-label>Account Group</mat-label>
                            <mat-select formControlName="selectedVendorGroup">
                                <mat-option *ngFor="let accGrp of vendoraccGroupList" [value]="accGrp.groupCode">{{accGrp.groupDesc}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-error class="errortxt" *ngIf="( isSubmitted ) && f?.selectedVendorGroup?.errors?.required">Account Group is required</mat-error>
                    </div>
                    <div class=" search-row-element">
                        <mat-form-field class="field ">
                            <mat-label>Company Code</mat-label>
                            <mat-select formControlName="selectedCompanyCode">
                                <mat-option *ngFor="let cocode of companyCodeList" [value]="cocode.companyCode">{{cocode.companyDesc}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-error class="errortxt" *ngIf="( isSubmitted ) && f?.selectedCompanyCode?.errors?.required">Company Code is required</mat-error>
                    </div>
                    <div class=" search-row-element">
                        <mat-form-field class="field">
                            <mat-label>Currency</mat-label>
                            <mat-select formControlName="selectedCurrency">
                                <mat-option *ngFor="let currency of currencyList" [value]="currency.currencyCode">
                                    {{currency.currencyDesc}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-error class="errortxt" *ngIf="( isSubmitted ) && f?.selectedCurrency?.errors?.required">Currency is required</mat-error>
                    </div>
                    <div class=" search-row-element" *ngIf="isFinance">
                        <mat-form-field class="field">
                            <mat-label>with Hold Type</mat-label>
                            <mat-select formControlName="withholdType" (selectionChange)="onHoldTypeSelected($event)">
                                <mat-option *ngFor="let withholdType of withholdTypeList" [value]="withholdType.withholdTypeCode">
                                    {{withholdType.withholdTypeDesc}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div class=" search-row-element" *ngIf="isFinance">
                        <mat-form-field class="field">
                            <mat-label>with Hold Tax</mat-label>
                            <mat-select formControlName="withholdTax">
                                <mat-option *ngFor="let withholdTax of withholdTaxList" [value]="withholdTax.withholdTaxCode">
                                    {{withholdTax.withholdTaxDesc}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div class=" search-row-element" *ngIf="isProcurement">
                        <div class="actions attachments">
                            <div class="flex-items">
                                <input style="display: none" [attr.id]="vendorDocCtrl.msaCtrl.browserId" type="file" multiple accept=".xls,.xlsx,.doc,.docx,.pdf,.png,.jpg,.zip"
                                    (change)="onFileChange($event, vendorDocCtrl.msaCtrl.documentTypeId)" />
                                <button mat-raised-button class="footer-actions" (click)="onBrowseFileClick($event, vendorDocCtrl.msaCtrl.browserId)">{{vendorDocCtrl.msaCtrl.placeholder}}</button>
                            </div>
                            <div class="flex-items">
                                <div *ngIf="filesMap[vendorDocCtrl.msaCtrl.documentTypeId]?.isAttached">
                                    <span class="filename" *ngFor="let f of filesMap[vendorDocCtrl.msaCtrl.documentTypeId]?.filesList; let fInd = index">
                                        <span>
                                            <button mat-button mat-icon-button aria-label="download" (click)="downloadFile(f)">
                                            <mat-icon matTooltip="{{ f.actualFileName }}">description</mat-icon>
                                            </button>
                                            <button mat-button mat-icon-button aria-label="Delete" *ngIf="isProcurement"
                                            (click)="onDeleteFileClick(f, fInd, vendorDocCtrl.msaCtrl.documentTypeId)">
                                            <mat-icon>delete_outline</mat-icon>
                                            </button>
                                        </span>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row" *ngIf="isFinance">
                    <div class="col-6"><span style="color:black">Procurement Approver Remarks:</span> {{ vendorDetails.procRemark }}</div>

                    <div class="col-6"><span style="color:black">Approved By:</span> {{ vendorDetails.procApprByName }}</div>
                </div>

                <div class="form-group">
                    <mat-form-field class="full-width">
                        <textarea matInput placeholder="Remarks" formControlName="remarks" autocomplete="off"></textarea>
                    </mat-form-field>
                    <mat-error class="errortxt" *ngIf="( isSubmitted ) && f?.remarks?.errors?.required">Remarks is required</mat-error>
                </div>
            </div>
        </form>

        <div class="row actions margin-unset">
            <div class="errortxt">
                {{ msg }}
            </div>
            <button mat-raised-button class="footer-actions" (click)="onBackClick()">Back</button>
            <button mat-raised-button class="footer-actions" [disabled]="isEditable" (click)="onEditClick()" *ngIf="isProcurement">Edit</button>
            <!-- <button mat-raised-button class="footer-actions" (click)="onSendForCorrClick()">Send For Correction</button> -->

            <button mat-raised-button class="footer-actions" (click)="onRejectClick()" [disabled]="disableSubmit == true || isEditable == true"
                *ngIf="canApprove">Reject</button>
            <button mat-raised-button class="footer-actions footer-actions-green" (click)="onApproveClick()" [disabled]="disableSubmit"
                *ngIf="canApprove">Approve</button>
        </div>
    </div>
</div>